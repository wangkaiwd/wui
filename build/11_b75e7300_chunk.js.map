{"version":3,"file":"11_b75e7300_chunk.js","sources":["webpack://WUI/./lib/components/form/form.tsx"],"sourcesContent":["import React from 'react';\nimport classes, { classMaker } from '../../helpers/classes';\nimport { FormError } from './validator';\n\nconst sc = classMaker('form');\nexport interface FormValue {\n  [key: string]: string\n}\n\ninterface FieldsProps {\n  key: string,\n  label: string,\n  input: { type: string }\n}\n\ninterface Props {\n  className?: string,\n  formData: FormValue,\n  fields: Array<FieldsProps>,\n  errors: FormError,\n  onChange: (newValue: FormValue) => void,\n  onSubmit: () => void,\n  buttons: React.ReactFragment\n}\n\nconst Form: React.FC<Props> = (props) => {\n  const {\n    className,\n    formData,\n    fields,\n    errors,\n    onChange,\n    onSubmit,\n    buttons,\n    ...resetProps\n  } = props;\n  // const onChange = (value: string, key: string) => {\n  //   const newValue = { ...props.formData, [key]: value };\n  //   props.onChange(newValue);\n  // };\n  const onInputChange = (key: string, e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = { ...props.formData, [key]: e.target.value };\n    props.onChange(newValue);\n  };\n  const onFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    props.onSubmit();\n  };\n  const onReset = () => {\n    const tempFormData: FormValue = {};\n    for (const k in props.formData) {\n      tempFormData[k] = '';\n    }\n    props.onChange(tempFormData);\n  };\n  return (\n    <form\n      className={classes(sc(), className)}\n      onSubmit={onFormSubmit}\n      onReset={onReset}\n      {...resetProps}\n    >\n      {fields.map(f => (\n        <div key={f.key}>\n          {f.label}\n          <input\n            value={props.formData[f.key]}\n            type={f.input.type}\n            // onChange={(e) => onChange(e.target.value, f.key)}\n            onChange={onInputChange.bind(null, f.key)}\n          />\n          {errors[f.key]}\n        </div>\n      ))}\n      <div className={sc('buttons')}>\n        {buttons}\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n\n"],"mappings":"AAIA","sourceRoot":""}